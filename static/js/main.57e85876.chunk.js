(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),m=a(1),i=a(4),s=function(e){var t=e.label,a=Object(i.a)(e,["label"]);return r.a.createElement("div",null,t&&r.a.createElement("label",{htmlFor:a.id},t),r.a.createElement("input",Object.assign({},a,{autoComplete:"off"})))},o=r.a.createContext(),u=function(){var e=Object(n.useContext)(o),t=e.queryStringCity,a=e.queryStringCountry,c=e.handleChange,l=e.handleSubmit;return r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:l},r.a.createElement("div",{className:"input-container"},r.a.createElement(s,{label:"",id:"city",type:"text",name:"queryStringCity",placeholder:"City...",onChange:c,value:t}),r.a.createElement(s,{label:"",id:"country",type:"text",name:"queryStringCountry",placeholder:"Country...",onChange:c,value:a}),r.a.createElement("button",{type:"submit",className:"button",disabled:!t},"Weather"))))},d=function(){var e=Object(n.useContext)(o).dataCurrent;return r.a.createElement("h1",{className:"city-name"},e.name,", ",e.sys.country)},p=function(e){var t=e.dataCurrent,a=e.item,c=Object(n.useContext)(o).unitMeasure,l=function(e){return r.a.createElement("img",{id:"icon",src:"http://openweathermap.org/img/wn/".concat(e,"@2x.png"),alt:"Weather icon"})},m=function(e){return(Math.round(10*(e-273.15))/10).toFixed(1)},i=function(e){return(Math.round(10*(1.8*e+32))/10).toFixed(1)};return r.a.createElement("div",{className:"card-container"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"first-row"},r.a.createElement("h3",{className:"date"},"Today")),r.a.createElement("div",{className:"second-row"},r.a.createElement("div",{className:"icon"},l(t.weather[0].icon)),r.a.createElement("div",{className:"temperatures"},"metric"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},m(t.main.temp_max),"\xb0C"),r.a.createElement("span",{className:"temp"},m(t.main.temp_min),"\xb0C")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},i(m(t.main.temp_max)),"\xb0F"),r.a.createElement("span",{className:"temp"},i(m(t.main.temp_min)),"\xb0F")))),r.a.createElement("div",{className:"third-row"},r.a.createElement("p",{className:"description"},t.weather[0].description))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"first-row"},r.a.createElement("h3",{className:"date"},function(e){var t=new Date(e.replace(/-/g,"/")).toString().split(" "),a=t[0],n=t[2];return"01"===n?n.slice(1,2)+"st":"21"===n||"31"===n?a+" "+n+"st":"02"===n?a+" "+n.slice(1,2)+"nd":"22"===n?a+" "+n+"nd":"03"===n?a+" "+n.slice(1,2)+"rd":"23"===n?a+" "+n+"rd":"04"===n||"05"===n||"06"===n||"07"===n||"08"===n||"09"===n?a+" "+n.slice(1,2)+"th":a+" "+n+"th"}(a.dt_txt))),r.a.createElement("div",{className:"second-row"},r.a.createElement("div",{className:"icon"},l(a.weather[0].icon)),r.a.createElement("div",{className:"temperatures"},"metric"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},m(a.main.temp_max),"\xb0C"),r.a.createElement("span",{className:"temp"},m(a.main.temp_min),"\xb0C")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},i(m(a.main.temp_max)),"\xb0F"),r.a.createElement("span",{className:"temp"},i(m(a.main.temp_min)),"\xb0F")))),r.a.createElement("div",{className:"third-row"},r.a.createElement("p",{className:"description"},a.weather[0].description))))},E=function(){var e=Object(n.useContext)(o),t=e.dataCurrent,a=e.dataForecast,c=a.list.filter((function(e){return e.dt_txt.slice(11,19)===a.list[39].dt_txt.slice(11,19)}));return r.a.createElement("div",{className:"cards-display"},r.a.createElement(p,{dataCurrent:t}),c.map((function(e){return r.a.createElement(p,{key:e.dt,item:e})})))},h=function(){var e=Object(n.useContext)(o),t=e.dataCurrent,a=e.dataForecast;return r.a.createElement(r.a.Fragment,null,t&&a&&r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(E,null)))},f=function(e){var t=e.err;return r.a.createElement("div",{className:"error"},r.a.createElement("p",null,"".concat(t.status," - ").concat(t.statusText)),404===t.status?r.a.createElement("p",null,"Not valid input"):401===t.status?r.a.createElement("p",null,"Not valid API key"):r.a.createElement("p",null,"Too many API calls. Try again later."))},v=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{alt:"loader gif",className:"loader-image",src:"/loader.gif"}))},b=function(){var e=Object(n.useContext)(o),t=e.unitMeasure,a=e.handleRadioChecked;return r.a.createElement("div",{className:"radio"},r.a.createElement(s,{label:"Metric",id:"metric",name:"unitMeasure",value:"metric",type:"radio",onChange:a,checked:"metric"===t}),r.a.createElement(s,{label:"Imperial",id:"imperial",name:"unitMeasure",value:"imperial",type:"radio",onChange:a,checked:"imperial"===t}))},N=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"footer__text"},"Created by"," ",r.a.createElement("a",{className:"footer__link",href:"https://towerbrother.github.io/portfolio-app",target:"_blank",rel:"noopener noreferrer"},"Giorgio Torre")),r.a.createElement("div",{className:"boxes-container"},r.a.createElement(b,null))))},g=function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header__title"},t),a&&r.a.createElement("h2",{className:"header__subtitle"},a)))},C="f9b82988a14039290e02b95f5e395184",y=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(m.a)(l,2),s=i[0],d=i[1],p=Object(n.useState)(null),E=Object(m.a)(p,2),b=E[0],y=E[1],w=Object(n.useState)(null),j=Object(m.a)(w,2),x=j[0],O=j[1],_=Object(n.useState)("metric"),S=Object(m.a)(_,2),F=S[0],k=S[1],q=Object(n.useState)(""),M=Object(m.a)(q,2),P=M[0],A=M[1],I=Object(n.useState)(""),T=Object(m.a)(I,2),D=T[0],W=T[1];return r.a.createElement("div",{className:"wrapper"},r.a.createElement(g,{title:"Weather App",subtitle:"Check the weather before getting out of the house!"}),r.a.createElement(o.Provider,{value:{dataCurrent:b,dataForecast:x,queryStringCity:P,queryStringCountry:D,unitMeasure:F,handleChange:function(e){W("");var t=e.target.name;"queryStringCity"===t&&A(e.target.value),"queryStringCountry"===t&&W(e.target.value)},handleSubmit:function(e){e.preventDefault(),c(null),y(null),O(null),d(!0),fetch("".concat(window.location.protocol,"//api.openweathermap.org/data/2.5/weather?q=").concat(P,",").concat(D,"&APPID=").concat(C)).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){y(e),d(!1)})).catch((function(e){c(e),d(s-1)})),fetch("".concat(window.location.protocol,"//api.openweathermap.org/data/2.5/forecast?q=").concat(P,",").concat(D,"&APPID=").concat(C)).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){O(e),d(!1)})).catch((function(e){c(e),d(s-1)})),A(""),W("")},handleRadioChecked:function(e){k(e.target.value)}}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(u,null),a&&r.a.createElement(f,{err:a}),s?r.a.createElement(v,null):b&&x&&r.a.createElement(h,null))),r.a.createElement(N,null)))};a(10),a(11);l.a.render(r.a.createElement(y,null),document.getElementById("root"))},5:function(e,t,a){e.exports=a(12)}},[[5,1,2]]]);
//# sourceMappingURL=main.57e85876.chunk.js.map