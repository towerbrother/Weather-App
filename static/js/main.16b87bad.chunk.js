(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),m=a(1),i=a(6),s=function(e){var t=e.label,a=Object(i.a)(e,["label"]);return r.a.createElement("div",null,t&&r.a.createElement("label",{htmlFor:a.id},t),r.a.createElement("input",Object.assign({},a,{autoComplete:"off"})))},u=r.a.createContext(),o=function(){var e=Object(n.useContext)(u),t=e.queryStringCity,a=e.queryStringCountry,c=e.handleChange,l=e.handleSubmit;return r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:l},r.a.createElement("div",{className:"input-container"},r.a.createElement(s,{label:"",id:"city",type:"text",name:"queryStringCity",placeholder:"City...",onChange:c,value:t}),r.a.createElement(s,{label:"",id:"country",type:"text",name:"queryStringCountry",placeholder:"Country...",onChange:c,value:a}),r.a.createElement("button",{type:"submit",className:"button",disabled:!t},"Weather"))))},d=function(){var e=Object(n.useContext)(u).dataCurrent;return r.a.createElement("h1",{className:"city-name"},"".concat(e.name,", ").concat(e.sys.country))},p=function(e){var t=e.dataCurrent,a=e.item,c=Object(n.useContext)(u).unitMeasure,l=function(e){return r.a.createElement("img",{id:"icon",src:"http://openweathermap.org/img/wn/".concat(e,"@2x.png"),alt:"Weather icon"})},m=function(e){return(Math.round(10*(e-273.15))/10).toFixed(1)},i=function(e){return(Math.round(10*(1.8*e+32))/10).toFixed(1)};return r.a.createElement("div",{className:"card-container"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"first-row"},r.a.createElement("h3",{className:"date"},"Today")),r.a.createElement("div",{className:"second-row"},r.a.createElement("div",{className:"icon"},l(t.weather[0].icon)),r.a.createElement("div",{className:"temperatures"},"metric"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},m(t.main.temp_max),"\xb0C"),r.a.createElement("span",{className:"temp"},m(t.main.temp_min),"\xb0C")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},i(m(t.main.temp_max)),"\xb0F"),r.a.createElement("span",{className:"temp"},i(m(t.main.temp_min)),"\xb0F")))),r.a.createElement("div",{className:"third-row"},r.a.createElement("p",{className:"description"},t.weather[0].description))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"first-row"},r.a.createElement("h3",{className:"date"},function(e){var t=new Date(e).toString().split(" "),a=t[0],n=t[2];return"01"===n?a+" "+n.slice(1,2)+"st":"21"===n||"31"===n?a+" "+n+"st":"02"===n?a+" "+n.slice(1,2)+"nd":"22"===n?a+" "+n+"nd":"03"===n?a+" "+n.slice(1,2)+"rd":"23"===n?a+" "+n+"rd":"04"===n||"05"===n||"06"===n||"07"===n||"08"===n||"09"===n?a+" "+n.slice(1,2)+"th":a+" "+n+"th"}(a.dt_txt))),r.a.createElement("div",{className:"second-row"},r.a.createElement("div",{className:"icon"},l(a.weather[0].icon)),r.a.createElement("div",{className:"temperatures"},"metric"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},m(a.main.temp_max),"\xb0C"),r.a.createElement("span",{className:"temp"},m(a.main.temp_min),"\xb0C")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"temp"},i(m(a.main.temp_max)),"\xb0F"),r.a.createElement("span",{className:"temp"},i(m(a.main.temp_min)),"\xb0F")))),r.a.createElement("div",{className:"third-row"},r.a.createElement("p",{className:"description"},a.weather[0].description))))},E=function(){var e=Object(n.useContext)(u),t=e.dataCurrent,a=e.dataForecast,c=a.list.filter((function(e){return e.dt_txt.slice(11,19)===a.list[39].dt_txt.slice(11,19)}));return r.a.createElement("div",{className:"cards-display"},r.a.createElement(p,{dataCurrent:t}),c.map((function(e){return r.a.createElement(p,{key:e.dt,item:e})})))},h=function(){var e=Object(n.useContext)(u),t=e.dataCurrent,a=e.dataForecast;return r.a.createElement(r.a.Fragment,null,t&&a&&r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(E,null)))},f=function(e){var t=e.err;return r.a.createElement("div",{className:"error"},r.a.createElement("p",null,t.status),r.a.createElement("p",null,t.statusText))},v=function(){return r.a.createElement("img",{alt:"loader gif",className:"loader-image",src:"/loader.gif"})},b=function(){var e=Object(n.useContext)(u),t=e.unitMeasure,a=e.handleRadioChecked;return r.a.createElement("div",{className:"radio"},r.a.createElement(s,{label:"Metric",id:"metric",name:"unitMeasure",value:"metric",type:"radio",onChange:a,checked:"metric"===t}),r.a.createElement(s,{label:"Imperial",id:"imperial",name:"unitMeasure",value:"imperial",type:"radio",onChange:a,checked:"imperial"===t}))},g=function(e){var t=e.url,a=e.author;return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"footer__text"},"Created by"," ",r.a.createElement("a",{className:"footer__link",href:t,target:"_blank",rel:"noopener noreferrer"},a)),r.a.createElement("div",{className:"boxes-container"},r.a.createElement(b,null))))},N=function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header__title"},t),a&&r.a.createElement("h2",{className:"header__subtitle"},a)))},C=a(2),y=a.n(C),w=a(3),x="f9b82988a14039290e02b95f5e395184",j=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){var r,c,l,m=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>3&&void 0!==m[3]?m[3]:x,e.next=3,fetch("".concat(window.location.protocol,"//api.openweathermap.org/data/2.5/").concat(t,"?q=").concat(a,",").concat(n,"&APPID=").concat(r));case 3:return c=e.sent,e.next=6,c.json();case 6:return l=e.sent,console.log("fetching from real API..."),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n,r){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,a,n);case 2:c=e.sent,r(c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),_=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(m.a)(l,2),s=i[0],d=i[1],p=Object(n.useState)(null),E=Object(m.a)(p,2),b=E[0],C=E[1],y=Object(n.useState)(null),w=Object(m.a)(y,2),x=w[0],j=w[1],_=Object(n.useState)("metric"),S=Object(m.a)(_,2),F=S[0],k=S[1],q=Object(n.useState)(""),M=Object(m.a)(q,2),A=M[0],I=M[1],P=Object(n.useState)(""),D=Object(m.a)(P,2),T=D[0],W=D[1];return r.a.createElement("div",{className:"wrapper"},r.a.createElement(N,{title:"Weather App",subtitle:"Check the weather before getting out of the house!"}),r.a.createElement(u.Provider,{value:{dataCurrent:b,dataForecast:x,queryStringCity:A,queryStringCountry:T,unitMeasure:F,handleChange:function(e){W("");var t=e.target.name;"queryStringCity"===t&&I(e.target.value),"queryStringCountry"===t&&W(e.target.value)},handleSubmit:function(e){e.preventDefault(),c(null);try{O("weather",A,T,C)}catch(a){c(a),d(s-1)}try{O("forecast",A,T,j)}catch(a){c(a),d(s-1)}I(""),W("")},handleRadioChecked:function(e){k(e.target.value)}}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(o,null),a&&r.a.createElement(f,{err:a}),s?r.a.createElement(v,null):b&&x&&r.a.createElement(h,null))),r.a.createElement(g,{author:"Giorgio Torre",url:"https://towerbrother.github.io/portfolio-app"})))};a(13),a(14);l.a.render(r.a.createElement(_,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.16b87bad.chunk.js.map